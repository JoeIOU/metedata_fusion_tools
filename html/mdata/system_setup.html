<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>System Setup</title>
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<style>
			.m-header {
			  height: 63px !important;
			  position: relative;
			  z-index:1000 !important;
			  width:100%;
			  padding:0px;
			  border:0px;
			  margin:0px;
			}
		</style>
	</head>
	<body  style="margin:0px">
    <el-container>
        <el-header>
			<iframe src="toolbar.html"  class="m-header"></iframe>
		</el-header>
		<le-main>
		<div id="app">
			<el-row>
				<el-col span="24">
					<template>
						<el-tabs v-model="main_tab" type="card" @tab-click="handleClick">
							<el-tab-pane label="元数据管理" name="metadata" style="width:100%;height:100%" checked>
								<el-tabs v-model="activity_metadata" type="card">
									<el-tab-pane label="元数据实体管理" name="entity_metadata" lazy="true" style="width:100%;height:700px" checked>
										<iframe src="entity_setup.html" style="width:100%;height:710px;border:0"></iframe>
									</el-tab-pane>
									<el-tab-pane label="元数据实体关系管理" name="entity_relation" lazy="true" style="width:100%;height:600px">
										<iframe src="entity_edit.html?entity_code=md_entities_rel&header=0" style="width:100%;height:100%;border:0"></iframe>
									</el-tab-pane>
									<el-tab-pane label="数据表映射维护" name="table_mapping" lazy="true" style="width:100%;height:700px" checked>
										<iframe src="entity_edit.html?entity_code=md_tables&header=0" style="width:100%;height:710px;border:0"></iframe>
									</el-tab-pane>
									<el-tab-pane label="数据表字段映射维护" name="column_mapping" lazy="true" style="width:100%;height:600px">
										<iframe src="entity_edit.html?entity_code=md_columns&header=0" style="width:100%;height:100%;border:0"></iframe>
									</el-tab-pane>
								</el-tabs>
							</el-tab-pane>
							<el-tab-pane label="Model管理" name="chart" style="width:100%;height:820px" lazy="true">
								<iframe src="model_mngt.html" style="width:100%;height:100%;border:0"></iframe>
							</el-tab-pane>
							<el-tab-pane label="租户管理" name="tenant" lazy="true" style="width:100%;height:600px">
								<iframe src="entity_edit.html?entity_code=tenants&header=0" style="width:100%;height:100%;border:0"></iframe>
							</el-tab-pane>
							<el-tab-pane label="部门管理" name="branch" lazy="true" style="width:100%;height:600px">
								<iframe src="entity_edit.html?entity_code=branchs&header=0" style="width:100%;height:550px;border:0"></iframe>
							</el-tab-pane>
							<el-tab-pane label="用户管理" name="users" lazy="true" style="width:100%;height:600px">
								<el-tabs v-model="activity_user" type="card">
									<el-tab-pane label="用户管理" name="users" lazy="true" style="width:100%;height:650px" checked>
										<iframe src="entity_edit.html?entity_code=users&header=0" style="width:100%;height:550px;border:0"></iframe>
									</el-tab-pane>
									<el-tab-pane label="用户与角色关系管理" name="user_roles" lazy="true" style="width:100%;height:650px">
										<iframe src="entity_edit.html?entity_code=user_roles&header=0" style="width:100%;height:550px;border:0"></iframe>
									</el-tab-pane>
								</el-tabs>
							</el-tab-pane>
							<el-tab-pane label="群组管理" name="group" lazy="true" style="width:100%;height:600px">
								<el-tabs v-model="activity_group" type="card">
									<el-tab-pane label="群组管理" name="user_groups" lazy="true" style="width:100%;height:650px" checked>
										<iframe src="entity_edit.html?entity_code=user_groups&header=0" style="width:100%;height:550px;border:0"></iframe>
									</el-tab-pane>
									<el-tab-pane label="用户和群组关系管理" name="user_groups_rel" lazy="true" style="width:100%;height:650px">

										<iframe src="entity_edit.html?entity_code=user_groups_rel&header=0" style="width:100%;height:550px;border:0"></iframe>
									</el-tab-pane>
								</el-tabs>
							</el-tab-pane>
							<el-tab-pane label="角色管理" name="roles" lazy="true" style="width:100%;height:600px">角色管理:
								<iframe src="entity_edit.html?entity_code=roles&header=0" style="width:100%;height:100%;border:0"></iframe>
							</el-tab-pane>
							<el-tab-pane label="权限管理" name="privilege" lazy="true" style="width:100%;height:600px">
								<el-tabs v-model="activity_privilege" type="card">
									<el-tab-pane label="实体权限码管理" name="entity_privileges" lazy="true" style="width:100%;height:650px" checked>
										<iframe src="entity_edit.html?entity_code=entity_privileges&header=0" style="width:100%;height:550px;border:0"></iframe>
									</el-tab-pane>
									<el-tab-pane label="角色和实体权限关系管理" name="role_privileges" lazy="true" style="width:100%;height:650px">

										<iframe src="entity_edit.html?entity_code=role_privileges&header=0" style="width:100%;height:550px;border:0"></iframe>
									</el-tab-pane>
									<el-tab-pane label="实体数据范围权限管理" name="data_privileges" lazy="true" style="width:100%;height:650px">

										<iframe src="entity_edit.html?entity_code=data_privileges&header=0" style="width:100%;height:550px;border:0"></iframe>
									</el-tab-pane>
									<el-tab-pane label="实体数据范围权限条件管理" name="data_privilege_field" lazy="true" style="width:100%;height:650px">

										<iframe src="entity_edit.html?entity_code=data_privilege_field&header=0" style="width:100%;height:550px;border:0"></iframe>
									</el-tab-pane>
									<el-tab-pane label="群组和数据范围权限关系管理" name="data_privileges_rel" lazy="true" style="width:100%;height:650px">

										<iframe src="entity_edit.html?entity_code=data_privileges_rel&header=0" style="width:100%;height:550px;border:0"></iframe>
									</el-tab-pane>
								</el-tabs>
							</el-tab-pane>
							<el-tab-pane label="视图管理" name="view" lazy="true" style="width:100%;height:600px">视图管理，数据view创建和维护，多表join等
								<el-tabs v-model="activity_view" type="card">
									<el-tab-pane label="数据视图管理" name="data_views" lazy="true" style="width:100%;height:650px" checked>
										<iframe src="entity_edit.html?entity_code=data_views&header=0" style="width:100%;height:550px;border:0"></iframe>
									</el-tab-pane>
									<el-tab-pane label="数据视图输入参数" name="view_inputs" lazy="true" style="width:100%;height:650px">
										<iframe src="entity_edit.html?entity_code=view_inputs&header=0" style="width:100%;height:550px;border:0"></iframe>
									</el-tab-pane>
									<el-tab-pane label="数据视图输出参数" name="view_outputs" lazy="true" style="width:100%;height:650px">
										<iframe src="entity_edit.html?entity_code=view_outputs&header=0" style="width:100%;height:550px;border:0"></iframe>
									</el-tab-pane>
								</el-tabs>
							</el-tab-pane>
							<el-tab-pane label="服务管理" name="service" lazy="true" style="width:100%;height:600px">服务管理，服务定义、注册，服务编排
								<iframe src="entity_edit.html?entity_code=services&header=0" style="width:100%;height:550px;border:0"></iframe>
							</el-tab-pane>
							<el-tab-pane label="规则管理" name="rule" lazy="true" style="width:100%;height:600px">规则管理，业务校验和逻辑处理规则
								<iframe src="entity_edit.html?entity_code=rules&header=0" style="width:100%;height:550px;border:0"></iframe>
							</el-tab-pane>
							<el-tab-pane label="流程管理" name="process" lazy="true" style="width:100%;height:600px">流程管理，业务流程和活动编排
								<iframe src="entity_edit.html?entity_code=process&header=0" style="width:100%;height:550px;border:0"></iframe>
								<iframe src="entity_edit.html?entity_code=activities&header=0" style="width:100%;height:550px;border:0"></iframe>
							</el-tab-pane>
							<el-tab-pane label="UI管理" name="ui" lazy="true" style="width:100%;height:600px">UI界面管理，页面可配置，页面模板设计
								<iframe src="entity_edit.html?entity_code=ui_templates&header=0" style="width:100%;height:550px;border:0"></iframe>
							</el-tab-pane>
						</el-tabs>
					</template>
				</el-col>
			</el-row>
		  </div>
		 </le-main>
	</el-container>
		<!-- import Vue before Element -->
		<script src="https://unpkg.com/vue/dist/vue.min.js"></script>
		<script src="https://unpkg.com/element-ui/lib/index.js"></script>
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/json-bigint-parser-browser@1.0.4/json-bigint-browser.min.js"></script>
		<script src="js/main.js"></script>
		<script>
			//主要内容
			  var app = new Vue({
			    el: "#app",
			    data() {
			          return {
			            main_tab: '',
			            activity_user: '',
			            activity_privilege: '',
			            activity_group: '',
			            activity_metadata: '',
			            activity_view: ''
			        };
			    },
			   mounted:function(){
			     this.tab_change();
			   },
			    methods: {
			      handleClick(tab, event) {
			       replaceParamVal('tab',tab.name);
			       switch (tab.name) {
			            case 'users':
			              this.activity_user='users';
			              break
			            case 'metadata':
			              this.activity_metadata='entity_metadata';
			              break
			            case 'view':
			              this.activity_view='data_views';
			              break
			            case 'group':
			              this.activity_group='user_groups';
			              break
			            case 'privilege':
			              this.activity_privilege='entity_privileges';
			              break
			       }
			        //console.log(tab, event);
			     },
			     tab_change(){
			       var tab_name=getUrlKey('tab');
			       switch (tab_name) {
			            case 'metadata':
			              this.main_tab='metadata';
			              this.activity_metadata='entity_metadata';
			              break
			            case 'chart':
			              this.main_tab='chart';
			              break
			            case 'tenant':
			              this.main_tab='tenant';
			              break
			            case 'branch':
			              this.main_tab='branch';
			              break
			            case 'users':
			              this.main_tab='users';
			              this.activity_user='users';
			              break
			            case 'roles':
			              this.main_tab='roles';
			              break
			            case 'group':
			              this.main_tab='group';
			              this.activity_group='user_groups';
			              break
			            case 'privilege':
			              this.main_tab='privilege';
			              this.activity_privilege='entity_privileges';
			              break
			            case 'view':
			              this.main_tab='view';
			              this.activity_view='data_views';
			              break
			            case 'service':
			              this.main_tab='service';
			              break
			            case 'process':
			              this.main_tab='process';
			              break
			            case 'rule':
			              this.main_tab='rule';
			              break
			            case 'ui':
			              this.main_tab='ui';
			              break
			            case '':
			              break
			       }
			     }
			    }
			    });
		</script>
	</body>

</html>
